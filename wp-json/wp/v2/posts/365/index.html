{"id":365,"date":"2023-08-03T05:50:11","date_gmt":"2023-08-03T05:50:11","guid":{"rendered":"http:\/\/192.168.0.142\/?p=365"},"modified":"2023-08-03T05:57:51","modified_gmt":"2023-08-03T05:57:51","slug":"async-method-in-c","status":"publish","type":"post","link":"http:\/\/192.168.0.142\/async-method-in-c\/","title":{"rendered":"Async method in C#"},"content":{"rendered":"\n<ul>\n<li>Asynchronous programming maximizes utilization of resources on multicore systems, by allowing units of work to be separated and completed.<\/li>\n\n\n\n<li>It frees up the calling system, especially a user interface, as to not wait for long operations.<\/li>\n\n\n\n<li>Async and await simplify asynchronous programming<\/li>\n\n\n\n<li>Async and await allow asynchronous code to resemble the structure of synchronous code.<\/li>\n\n\n\n<li>The async keyword instructs the compiler to allow await.<\/li>\n\n\n\n<li>Methods marked with async may return Task<\/li>\n\n\n\n<li>The await keyword instructs the method to return.<\/li>\n\n\n\n<li>The await keyword instructs the complier to resume execution within the same context after the operation is complete.<\/li>\n<\/ul>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"610\" height=\"505\" src=\"http:\/\/192.168.0.142\/wp-content\/uploads\/2023\/08\/async-method-c.png\" alt=\"Async Method in C#\" class=\"wp-image-368\" srcset=\"http:\/\/192.168.0.142\/wp-content\/uploads\/2023\/08\/async-method-c.png 610w, http:\/\/192.168.0.142\/wp-content\/uploads\/2023\/08\/async-method-c-300x248.png 300w\" sizes=\"(max-width: 610px) 100vw, 610px\" \/><\/figure><\/div>\n\n\n<ol>\n<li>An event handler calls and awaits the AccessTheWebAsync async method.<\/li>\n\n\n\n<li>AccessTheWebAsync creates an HttpClient instance and calls the GetStringAsync asynchronous method to download the contents of a website as a string.<\/li>\n\n\n\n<li>Something happens in GetStringAsync that suspends its progress. Perhaps it must wait for a website to download or some other blocking activity. To avoid blocking resources, GetStringAsync yields control to its caller, AccessTheWebAsync. GetStringAsync returns a Task where TResult is a string, and AccessTheWebAsync assigns the task to the getStringTask variable. The task represents the ongoing process for the call to GetStringAsync, with a commitment to produce an actual string value when the work is complete.<\/li>\n\n\n\n<li>Because getStringTask hasn&#8217;t been awaited yet, AccessTheWebAsync can continue with other work that doesn&#8217;t depend on the final result from GetStringAsync. That work is represented by a call to the synchronous method DoIndependentWork.<\/li>\n\n\n\n<li>DoIndependentWork is a synchronous method that does its work and returns to its caller.<\/li>\n\n\n\n<li>AccessTheWebAsync has run out of work that it can do without a result from getStringTask. AccessTheWebAsync next wants to calculate and return the length of the downloaded string, but the method can&#8217;t calculate that value until the method has the string.Therefore, AccessTheWebAsync uses an await operator to suspend its progress and to yield control to the method that called AccessTheWebAsync. AccessTheWebAsync returns a Task to the caller. The task represents a promise to produce an integer result that&#8217;s the length of the downloaded string.Inside the caller (the event handler in this example), the processing pattern continues. The caller might do other work that doesn&#8217;t depend on the result from AccessTheWebAsync before awaiting that result, or the caller might await immediately. The event handler is waiting for AccessTheWebAsync, and AccessTheWebAsync is waiting for GetStringAsync.<\/li>\n\n\n\n<li>GetStringAsync completes and produces a string result. The string result isn&#8217;t returned by the call to GetStringAsync in the way that you might expect. (Remember that the method already returned a task in step 3.) Instead, the string result is stored in the task that represents the completion of the method, getStringTask. The await operator retrieves the result from getStringTask. The assignment statement assigns the retrieved result to urlContents.<\/li>\n\n\n\n<li>When AccessTheWebAsync has the string result, the method can calculate the length of the string. Then the work of AccessTheWebAsync is also complete, and the waiting event handler can resume. In the full example at the end of the topic, you can confirm that the event handler retrieves and prints the value of the length result.<\/li>\n<\/ol>\n","protected":false},"excerpt":{"rendered":"","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[32],"tags":[34,33],"_links":{"self":[{"href":"http:\/\/192.168.0.142\/wp-json\/wp\/v2\/posts\/365"}],"collection":[{"href":"http:\/\/192.168.0.142\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/192.168.0.142\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/192.168.0.142\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/192.168.0.142\/wp-json\/wp\/v2\/comments?post=365"}],"version-history":[{"count":4,"href":"http:\/\/192.168.0.142\/wp-json\/wp\/v2\/posts\/365\/revisions"}],"predecessor-version":[{"id":373,"href":"http:\/\/192.168.0.142\/wp-json\/wp\/v2\/posts\/365\/revisions\/373"}],"wp:attachment":[{"href":"http:\/\/192.168.0.142\/wp-json\/wp\/v2\/media?parent=365"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/192.168.0.142\/wp-json\/wp\/v2\/categories?post=365"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/192.168.0.142\/wp-json\/wp\/v2\/tags?post=365"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}